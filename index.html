<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Â¿CÃ³mo de bien conoces la historia de Lappi?</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(120deg, #FDE68A, #FCA5A5);
      font-family: 'Comic Sans MS', sans-serif;
      color: #333;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .hidden { display: none; }
    .visible { display: block; }
    h1, h2 {
      font-family: 'Poppins', sans-serif;
      color: #ff4757;
    }
    p {
      font-size: 1.2rem;
    }
    .bg-game {
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/5/52/Plaza_de_Espa%C3%B1a%2C_Seville%2C_Spain_-_April_2009.jpg');
      background-size: cover;
      background-position: center;
      border-radius: 15px;
    }
    .confetti {
      position: absolute;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1000;
    }
    .big-text {
      font-size: 1.8rem;
      line-height: 1.5;
    }
    .correct {
      color: green;
    }
    .incorrect {
      color: red;
    }
    .score-display {
      font-size: 1.5rem;
      margin-top: 1rem;
      color: #1d4ed8;
    }
    @media (max-width: 768px) {
      h1, .big-text, p {
        font-size: 1.5rem;
      }
      button {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body class="bg-blue-100 text-center relative">
  <div id="game" class="w-full max-w-3xl mx-auto p-8 bg-game bg-opacity-80 rounded-lg">
    <h1 class="text-5xl font-bold mb-6">Â¿CÃ³mo de bien conoces la historia de Lappi? ğŸ¨</h1>
    <p id="score" class="text-4xl font-bold text-green-600 mb-6">Puntos: 0/20</p>
    
    <!-- IntroducciÃ³n -->
    <div id="intro" class="visible">
      <p class="text-3xl mb-4">Explora la historia de los comienzos de Antonio Lappi GonzÃ¡lez y su increÃ­ble trayecto hasta fundar un imperio grÃ¡fico. ğŸŒ Â¿QuÃ© tanto sabes de su vida y su legado?</p>
      <button class="bg-red-500 text-white p-4 rounded text-2xl" onclick="startGame()">Â¡Empezar! ğŸ</button>
    </div>
    
    <!-- Juego -->
    <div id="question-container" class="hidden">
      <p id="question" class="text-4xl mb-6"></p>
      <div id="options" class="mb-4"></div>
      <button id="next" class="bg-green-500 text-white p-4 rounded text-2xl hidden" onclick="nextQuestion()">Siguiente â¡ï¸</button>
    </div>

    <!-- Final -->
    <div id="end-screen" class="hidden">
      <h2 class="text-5xl font-bold mb-4" style="color: #2563eb;">Â¡Juego Terminado! ğŸ‰</h2>
      <p id="final-score" class="text-4xl mb-4" style="color: #1d4ed8;"></p>
      <p id="expert-level" class="text-3xl mb-6" style="color: #2563eb;"></p>
      <button class="bg-blue-500 text-white p-4 rounded text-2xl" onclick="restartGame()">Jugar de nuevo ğŸ”</button>
      <div class="confetti" id="confetti"></div>
    </div>
  </div>

  <script>
    const questions = [
      // 18 preguntas sobre Antonio, su infancia y cÃ³mo creciÃ³
      {
        question: "Â¿CÃ³mo se llamaba la calle donde Antonio creciÃ³? ğŸ˜ï¸",
        options: ["Calle Duque Cornejo", "Calle Amor de Dios", "Calle San Luis"],
        answer: 1,
        correctStory: "Â¡Correcto! Antonio creciÃ³ en la Calle Amor de Dios, una pequeÃ±a calle que jugÃ³ un papel importante en su infancia."
      },
      {
        question: "Â¿QuiÃ©n cuidÃ³ de Antonio y su hermana tras quedar huÃ©rfanos? ğŸ‘µ",
        options: ["Su abuela ğŸ‘µ", "Su tÃ­a ğŸ‘©â€ğŸ‘¦", "Una monja del colegio ğŸ‘©â€ğŸ«"],
        answer: 0,
        correctStory: "Â¡Exacto! Antonio y su hermana fueron cuidados por su abuela despuÃ©s de quedar huÃ©rfanos de madre."
      },
      {
        question: "Â¿En quÃ© tipo de colegio se formÃ³ Antonio en artes grÃ¡ficas? ğŸ«",
        options: ["Escuela pÃºblica ğŸ“š", "Colegio regentado por monjas â›ª", "Instituto tÃ©cnico ğŸ› ï¸"],
        answer: 1,
        correctStory: "Â¡Correcto! Antonio se formÃ³ en un colegio regentado por monjas, donde aprendiÃ³ las habilidades bÃ¡sicas."
      },
      {
        question: "Â¿CÃ³mo consiguiÃ³ Antonio el dinero para comprar su primera mÃ¡quina? ğŸ’¶",
        options: ["VendiÃ³ sus pertenencias", "PidiÃ³ un prÃ©stamo a un amigo", "AhorrÃ³ trabajando"],
        answer: 1,
        correctStory: "Â¡Bien hecho! Antonio pidiÃ³ prestadas 300 pesetas a un amigo para poder comprar su primera mÃ¡quina de palanca."
      },
      {
        question: "Â¿A quÃ© edad quedÃ³ huÃ©rfano Antonio Lappi? ğŸ‘¶",
        options: ["13 aÃ±os", "15 aÃ±os", "12 aÃ±os"],
        answer: 0,
        correctStory: "A los 13 aÃ±os, Antonio quedÃ³ huÃ©rfano, lo que marcÃ³ un punto crucial en su vida."
      },
      {
        question: "Â¿QuÃ© comprÃ³ Antonio con 300 pesetas? ğŸ’°",
        options: ["Una imprenta", "Una mÃ¡quina de palanca", "Un local para su negocio"],
        answer: 1,
        correctStory: "Antonio comprÃ³ una mÃ¡quina de palanca que le permitiÃ³ empezar a crear tarjetas de visita y otras impresiones."
      },
      {
        question: "Â¿DÃ³nde montÃ³ Antonio su primera imprenta? ğŸ ",
        options: ["En su casa", "En una tienda alquilada", "En el salÃ³n de su abuela"],
        answer: 2,
        correctStory: "Antonio montÃ³ su primera imprenta en el salÃ³n de la casa de su abuela, en la calle Duque Cornejo."
      },
      {
        question: "Â¿QuiÃ©n le prestÃ³ dinero a Antonio para comprar su primera mÃ¡quina? ğŸ’µ",
        options: ["Un amigo", "Una vecina", "Su abuela"],
        answer: 1,
        correctStory: "Una vecina le prestÃ³ el dinero a Antonio para comprar la mÃ¡quina."
      },
      {
        question: "Â¿CuÃ¡l fue uno de los primeros clientes importantes de Antonio? ğŸ’¼",
        options: ["Almacenes Olimpia", "La Casera", "Fontvella"],
        answer: 0,
        correctStory: "Uno de los primeros clientes importantes de Antonio fue Almacenes Olimpia."
      },
      {
        question: "Â¿QuÃ© producto fabricÃ³ Antonio para La Casera? ğŸ¶",
        options: ["Etiquetas", "Capiruchos de botellas", "Carteles publicitarios"],
        answer: 1,
        correctStory: "Antonio fabricÃ³ los capiruchos para las botellas de La Casera."
      },
      {
        question: "Â¿CÃ³mo se llamaban los amigos de Antonio que lo ayudaron? ğŸ‘¬",
        options: ["Pepe y Juan", "Purri y Estebita", "Manuel y Esteban"],
        answer: 1,
        correctStory: "Antonio contÃ³ con la ayuda de 'Purri' y 'Estebita'."
      },
      {
        question: "Â¿A quÃ© polÃ­gono se trasladÃ³ la empresa de Antonio? ğŸ­",
        options: ["PolÃ­gono de Sevilla", "PolÃ­gono Store", "PolÃ­gono de Triana"],
        answer: 1,
        correctStory: "La empresa se trasladÃ³ al PolÃ­gono Store."
      },
      {
        question: "Â¿QuÃ© otros clientes importantes tuvo la imprenta de Antonio? ğŸ’¡",
        options: ["Coca Cola y Fontvella", "Pepsi y Agua SolÃ¡n", "NestlÃ© y Agua Sierra"],
        answer: 0,
        correctStory: "Antonio trabajÃ³ con marcas como Coca Cola y Fontvella."
      },
      {
        question: "Â¿QuiÃ©n gestiona actualmente el negocio tras la muerte de Antonio Lappi GonzÃ¡lez? ğŸ‘¨â€ğŸ’¼",
        options: ["Su hijo", "Su sobrino", "Su nieto"],
        answer: 0,
        correctStory: "Su hijo, Antonio Lappi Perea, tomÃ³ el relevo y continuÃ³ con el legado de su padre."
      },
      {
        question: "Â¿CuÃ¡l fue la primera gran expansiÃ³n de la empresa? ğŸŒ",
        options: ["Madrid", "Barcelona", "Sevilla"],
        answer: 1,
        correctStory: "La empresa se expandiÃ³ primero a Barcelona, continuando su crecimiento a nivel nacional."
      },
      {
        question: "Â¿QuÃ© legado dejÃ³ Antonio Lappi a su familia? ğŸ›ï¸",
        options: ["Una imprenta moderna", "Una empresa internacional", "Valores de trabajo duro y perseverancia"],
        answer: 2,
        correctStory: "Antonio dejÃ³ como legado valores de trabajo duro, perseverancia e innovaciÃ³n, que siguen guiando a la empresa hasta el dÃ­a de hoy."
      },
      
      // 2 preguntas sobre la empresa en la actualidad
      {
        question: "Â¿CuÃ¡ntas plantas tiene actualmente la empresa? ğŸ¢",
        options: ["4", "5", "6"],
        answer: 2,
        correctStory: "Actualmente, la empresa cuenta con 6 plantas distribuidas en varias ciudades de EspaÃ±a y Portugal."
      },
      {
        question: "Â¿CuÃ¡l es la sede principal de la empresa hoy en dÃ­a? ğŸ›ï¸",
        options: ["Barcelona", "Madrid", "Sevilla"],
        answer: 2,
        correctStory: "La sede principal de la empresa sigue estando en Sevilla, la ciudad donde comenzÃ³ todo para Antonio Lappi."
      }
    ];

    let currentQuestion = 0;
    let score = 0;
    let totalQuestions = 20;  // Ajuste a 20 preguntas
    let startTime;

    function startGame() {
      document.getElementById('intro').classList.add('hidden');
      document.getElementById('question-container').classList.remove('hidden');
      loadQuestion();
      startTime = new Date().getTime();
    }

    function loadQuestion() {
      const question = questions[currentQuestion];
      document.getElementById('question').textContent = question.question;
      document.getElementById('options').innerHTML = '';

      question.options.forEach((option, index) => {
        const button = document.createElement('button');
        button.textContent = option;
        button.classList.add('bg-blue-400', 'text-black', 'p-4', 'm-2', 'rounded', 'text-2xl');
        button.onclick = () => checkAnswer(index);
        document.getElementById('options').appendChild(button);
      });
    }

    function checkAnswer(selected) {
      const question = questions[currentQuestion];
      const resultMessage = selected === question.answer
        ? `<p class="correct big-text">Â¡Correcto! ğŸ‰ ${question.correctStory}</p>`
        : `<p class="incorrect big-text">Â¡Oh no! âŒ La respuesta correcta era: ${question.correctStory}</p>`;

      document.getElementById('options').innerHTML = resultMessage;
      if (selected === question.answer) {
        score++;
        document.getElementById('score').textContent = `Puntos: ${score}/20`;
      }

      document.getElementById('next').classList.remove('hidden');
    }

    function nextQuestion() {
      currentQuestion++;
      if (currentQuestion < questions.length) {
        document.getElementById('next').classList.add('hidden');
        loadQuestion();
      } else {
        endGame();
      }
    }

    function endGame() {
      document.getElementById('question-container').classList.add('hidden');
      document.getElementById('end-screen').classList.remove('hidden');
      const timeTaken = (new Date().getTime() - startTime) / 1000;
      const expertise = score / totalQuestions;
      let expertLevel;

      if (expertise === 1) {
        expertLevel = "Â¡IncreÃ­ble! Eres un experto total en la historia de Lappi. ğŸ¨ğŸ‰ Â¡Sabes todo lo que hay que saber!";
        launchConfetti();
      } else if (expertise >= 0.7) {
        expertLevel = "Â¡Muy bien! Conoces bastante bien la historia. ğŸ˜ Â¡Seguro que podrÃ­as contarla tÃº mismo!";
      } else {
        expertLevel = "Parece que necesitas repasar un poco mÃ¡s la historia de Lappi. Â¡Sigue intentÃ¡ndolo! ğŸ“š";
      }

      document.getElementById('final-score').textContent = `PuntuaciÃ³n final: ${score}/20 en ${timeTaken.toFixed(2)} segundos.`;
      document.getElementById('expert-level').textContent = expertLevel;
    }

    function restartGame() {
      score = 0;
      currentQuestion = 0;
      document.getElementById('end-screen').classList.add('hidden');
      document.getElementById('intro').classList.remove('hidden');
      document.getElementById('score').textContent = `Puntos: 0/20`;
    }

    function launchConfetti() {
      const confettiDiv = document.getElementById('confetti');
      confettiDiv.innerHTML = '<img src="https://upload.wikimedia.org/wikipedia/commons/5/5c/Confetti.svg" class="w-full h-full">';
      setTimeout(() => {
        confettiDiv.innerHTML = '';
      }, 3000);
    }
  </script>
</body>
</html>
